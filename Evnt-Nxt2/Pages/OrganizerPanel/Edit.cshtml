@page
@model Evnt_Nxt2.Pages.OrganizerPanel.EditModel

@section Styles {
    <link rel="stylesheet" href="~/css/organizer.css" />
}

<h2>Edit Event</h2>

@if (ViewData["SuccessMessage"] != null)
{
    <div
         class="success-message">
        @ViewData["SuccessMessage"]
    </div>
}

<div class="edit-event-form">
    <form method="post">
        <input type="hidden" asp-for="EditEvent.EventID" />
        <input type="hidden" asp-for="EditEvent.OrganizerID" />

        <div>
            <label asp-for="EditEvent.EventName">Event Name</label>
            <input asp-for="EditEvent.EventName" class="form-control" />
        </div>

        <div>
            <label asp-for="EditEvent.EventDate"> Event Date</label>
            <input asp-for="EditEvent.EventDate" type="date" class="form-control" />
        </div>

        <div>
            <label asp-for="EditEvent.EventLocation"> Event Location</label>
            <input asp-for="EditEvent.EventLocation" class="form-control" />
        </div>

        <div>
            <label asp-for="EditEvent.EventProvince"> Event Province</label>
            <input asp-for="EditEvent.EventProvince" class="form-control" />
        </div>

        @for (int i = 0; i < Model.EditEvent.TicketTypes.Count; i++)
        {
            <div class="ticket-card">
                <h4>Ticket Type: @Model.EditEvent.TicketTypes[i].TicketType</h4>

                <input type="hidden" asp-for="EditEvent.TicketTypes[i].TicketID" />
                <input type ="hidden" asp-for = "EditEvent.TicketTypes[i].TicketType"/>

                <div class="form-group">
                    <label asp-for="EditEvent.TicketTypes[i].AvailableTickets">Available Tickets</label>
                    <input asp-for="EditEvent.TicketTypes[i].AvailableTickets" class="form-control" />
                </div>

                <div class="form-group">
                    <label asp-for="EditEvent.TicketTypes[i].Price">Price (€)</label>
                    <input asp-for="EditEvent.TicketTypes[i].Price" class="form-control" />
                </div>
            </div>
        }

        <button type="submit">Save</button>
    </form>
</div>